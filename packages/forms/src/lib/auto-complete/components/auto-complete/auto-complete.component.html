<div class="m-flyout--scrollable m-flyout--full aui-auto-complete" auiFlyout [toggleClick]="false" (closed)="onFlyoutClosed()">
	<input *ngIf="!mask"
		[id]="id"
		[placeholder]="placeholder"
		type="text"
		auiFlyoutAction
		[(ngModel)]="query"
		(ngModelChange)="doSearch()"
		auiSelectableActions
		(keyArrowUp)="onKeyArrowUp()"
		(keyArrowDown)="onKeyArrowDown()"
		(keyEnter)="onKeyEnter($event)"
		(keyEscape)="onKeyEscape()"
		(focus)="onFocus()"
		autocomplete="off"
	/>
	<input *ngIf="mask"
		[id]="id"
		[placeholder]="placeholder"
		type="text"
		auiFlyoutAction
		[(ngModel)]="query"
		(ngModelChange)="doSearch()"
		auiSelectableActions
		(keyArrowUp)="onKeyArrowUp()"
		(keyArrowDown)="onKeyArrowDown()"
		(keyEnter)="onKeyEnter($event)"
		(keyEscape)="onKeyEscape()"
		(focus)="onFocus()"
		autocomplete="off"
		[auiMask]="mask"
	/>

	<div auiFlyoutZone>
		<span class="aui-auto-complete__info u-text-light u-margin-xs" *ngIf="focused && loadingText && searching">
			<span class="a-spinner a-spinner--inline a-spinner--sm u-margin-right-xs"></span>
			{{ loadingText }}
		</span>
		<span class="aui-auto-complete__info u-text-light u-margin-xs" *ngIf="focused && searchIncentiveText && !searching && !query && !results.length">{{ searchIncentiveText }}</span>
		<span class="aui-auto-complete__info u-text-light u-margin-xs" *ngIf="focused && noResultsText && !searching && query && !results.length">{{ noResultsText }}</span>

		<aui-selectable-list [items]="results" [index]="index" (selected)="onSelect($event)" [label]="label" [search]="query" [itemTemplate]="template" *ngIf="results.length > 0 && !(focused && loadingText && searching)"></aui-selectable-list>
	</div>
</div>
